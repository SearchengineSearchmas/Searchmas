<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Searchmas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin:0; font-family: Arial, sans-serif; min-height:100vh; }
    .bg { position:fixed; inset:0; display:grid; grid-template-columns:1fr 1fr; z-index:-1; }
    .bg div { background:url('https://cdn.fcglcdn.com/brainbees/images/products/583x720/19208326a.webp') center/cover no-repeat; opacity:1; }
    .center { height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:16px; }
    h1 { font-size:48px; margin:0; }
    input { width:360px; padding:12px 16px; font-size:16px; border-radius:20px; border:1px solid #ccc; }
    .hidden { display:none; }
    .app { padding:16px; }
    .tabs { display:flex; gap:16px; margin-top:12px; }
    .tabs button { background:none; border:none; font-size:15px; cursor:pointer; }
    .results { margin-top:24px; display:flex; flex-direction:column; gap:14px; align-items:flex-start; }
    .results a { display:flex; align-items:center; gap:8px; text-decoration:none; color:black; font-weight:500; }
    .results img { width:18px; height:18px; }
    .image-grid { margin-top:24px; display:grid; grid-template-columns:repeat(auto-fill,minmax(150px,1fr)); gap:12px; }
    .image-grid img { width:100%; border-radius:12px; }
  </style>
</head>
<body>

<div class="bg"><div></div><div></div></div>

<!-- HOME -->
<div id="home" class="center">
  <h1>Searchmas</h1>
  <input id="homeSearch" placeholder="Search the web">
</div>

<!-- RESULTS APP -->
<div id="app" class="app hidden">
  <input id="topSearch" placeholder="Search">
  <div class="tabs">
    <button data-tab="web">Web</button>
    <button data-tab="images">Images</button>
    <button data-tab="videos">Videos</button>
    <button data-tab="news">News</button>
    <button data-tab="discuss">Discuss</button>
  </div>
  <div id="content" class="results"></div>
</div>

<script>
const UNSPLASH_KEY = "b6Om1yQejxS88kA2na-UYEct9zypZTOmAYlzJMbeEe0";
let query = "";

const home = document.getElementById("home");
const app = document.getElementById("app");
const content = document.getElementById("content");
const homeSearch = document.getElementById("homeSearch");
const topSearch = document.getElementById("topSearch");

function startSearch(q) {
  if (!q) return;
  query = q;
  home.classList.add("hidden");
  app.classList.remove("hidden");
  topSearch.value = q;
  showTab("web");
}

function showTab(tab) {
  content.className = tab === "images" ? "image-grid" : "results";
  content.innerHTML = "";

  if (tab === "web") {
    content.innerHTML = `
      <a href="https://www.google.com/search?q=${encodeURIComponent(query)}" target="_blank"><img src="https://www.google.com/favicon.ico">Google</a>
      <a href="https://en.wikipedia.org/wiki/Special:Search?search=${encodeURIComponent(query)}" target="_blank"><img src="https://wikipedia.org/favicon.ico">Wikipedia</a>
      <a href="https://gemini.google.com/search?q=${encodeURIComponent(query)}" target="_blank"><img src="https://brandlogos.net/wp-content/uploads/2025/03/gemini_icon-logo_brandlogos.net_aacx5-300x300.png">Gemini</a>`;
  }

  if (tab === "videos") {
    content.innerHTML = `<a href="https://www.youtube.com/results?search_query=${encodeURIComponent(query)}" target="_blank"><img src="https://www.youtube.com/favicon.ico">YouTube</a>`;
  }

  if (tab === "news") {
    content.innerHTML = `<a href="https://news.google.com/search?q=${encodeURIComponent(query)}" target="_blank"><img src="https://static.vecteezy.com/system/resources/previews/022/613/029/large_2x/google-news-icon-logo-symbol-free-png.png">Google News</a>`;
  }

  if (tab === "discuss") {
    content.innerHTML = `
      <a href="https://www.reddit.com/search/?q=${encodeURIComponent(query)}" target="_blank"><img src="https://www.reddit.com/favicon.ico">Reddit</a>
      <a href="https://www.quora.com/search?q=${encodeURIComponent(query)}" target="_blank"><img src="https://www.quora.com/favicon.ico">Quora</a>`;
  }

  if (tab === "images") {
    fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(query)}&client_id=${UNSPLASH_KEY}`)
      .then(r => r.json())
      .then(d => {
        content.innerHTML = d.results.map(i => `<img src="${i.urls.small}">`).join("");
      })
      .catch(() => content.innerHTML = "Failed to load images");
  }
}

homeSearch.addEventListener("keydown", e => {
  if (e.key === "Enter") startSearch(homeSearch.value);
});

topSearch.addEventListener("keydown", e => {
  if (e.key === "Enter") startSearch(topSearch.value);
});

// tab buttons
for (const btn of document.querySelectorAll(".tabs button")) {
  btn.addEventListener("click", () => showTab(btn.dataset.tab));
}
</script>

</body>
</html>
